'그외같이사는사람'))
data$V4 <- factor(data$V4, levels=1:8,
labels=c('안 받았음', '초등학교', '중학교',
'고등학교', '대학-4년제 미만', '대학-4년제 이상',
'석사과정', '박사과정'))
str(data)
labels= c('남자', '여자')
str(data)
save.image('data.rda')
str(data)
labels= c('남자', '여자')
data$V1 <- factor(data$V1, levels=c(1,2),
labels= c('남자', '여자'))
str(data)
save.image('data.rda')
seq(1,100,3)
### Section 2. R과 R Studio
setwd('D:/Heechul/R_Statistics/Lecture/chapter01')
setwd('D:/Heechul/R_Statistics/Lecture/chapter02')
str(cars)
ggplot(cars, aes(x=mph, y= ft)) +
geom_jitter()
library(ggplot2)
ggplot(cars, aes(x=mph, y= ft)) +
geom_jitter()
str(cars)
head(cars)
ggplot(cars, aes(x=speed, y= dist)) +
geom_jitter()
ggplot(cars, aes(x=speed, y= dist)) +
geom_jitter(pch=1, col='red') +
xlab('속도(mph)') +
ylab('제동거리(ft)')
ggplot(cars, aes(x=speed, y= dist)) +
geom_jitter(pch=2, col='red') +
xlab('속도(mph)') +
ylab('제동거리(ft)')
Nile
str(Nile)
head(Nile)
ggplot(cars, aes(x=speed, y= dist)) +
geom_jitter(pch=1, col='red') +
xlab('속도(mph)') +
ylab('제동거리(ft)')
plot(cars$speed. cars$dist, main='속도와 제동거리',
xlab='속도(mph)',ylab='제동거리(ft)')
plot(cars$speed, cars$dist, main='속도와 제동거리',
xlab='속도(mph)',ylab='제동거리(ft)')
plot(cars$speed, cars$dist, main='속도와 제동거리',
xlab='속도(mph)',ylab='제동거리(ft)', col='red')
par(mfrow=c(1,2))
ggplot(cars, aes(x=speed, y= dist)) +
geom_jitter(pch=1, col='red') +
xlab('속도(mph)') +
ylab('제동거리(ft)')
plot(cars$speed, cars$dist, main='속도와 제동거리',
xlab='속도(mph)',ylab='제동거리(ft)', col='red')
ggplot(cars, aes(x=speed, y= dist)) +
geom_jitter(pch=1, col='red') +
xlab('속도(mph)') +
ylab('제동거리(ft)')
plot(cars$speed, cars$dist, main='속도와 제동거리',
xlab='속도(mph)',ylab='제동거리(ft)', col='red')
plot(cars$speed, cars$dist, main='속도와 제동거리',
xlab='속도(mph)',ylab='제동거리(ft)', col='red')
ggplot(cars, aes(x=speed, y= dist)) +
geom_jitter(pch=1, col='red') +
xlab('속도(mph)') +
ylab('제동거리(ft)')
plot(Nile, main='Nile강의 연도별 유량 변화',
xlab='연도', ylab='유량')
plot(Nile, main='Nile강의 연도별 유량 변화',
xlab='연도', ylab='유량')
plot(Nile, main='Nile강의 연도별 유량 변화', type='p',
xlab='연도', ylab='유량')
ggplot(Nile, aes(x='', y= '')) +
geom_jitter(pch=2, col='red') +
xlab('연도') +
ylab('유량')
str(Nile)
head(Nile)
# Nile 선점도
Nile
par(mfrow=c(1,1))
plot(Nile, main='Nile강의 연도별 유량 변화',
xlab='연도', ylab='유량')
ggplot(Nile, aes(x='', y= '')) +
geom_line(pch=2, col='red') +
xlab('연도') +
ylab('유량')
class(NIle)
class(Nile)
df_Nile<- data.frame(Nile)
df_Nile
ggplot(df_Nile, aes(x='', y= 'Nile')) +
geom_line(pch=2, col='red') +
xlab('연도') +
ylab('유량')
ggplot(df_Nile, aes(x='', y= 'Nile')) +
geom_line(col='red') +
xlab('연도') +
ylab('유량')
# Nile 시계열그래프와 선점도 그래프
Nile
df_Nile <- colnames('year', 1871:1970)
df_Nile <- colnames(1871:1970)
df_Nile
df_Nile
df_Nile <- colnames(1871:1970)
ggplot(df_Nile, aes(x='', y= 'Nile')) +
geom_line(col='red') +
xlab('연도') +
ylab('유량')
df_Nile
df_Nile<- data.frame(Nile)
df_Nile
df_Nile <- colnames(c(1871:1970)
ggplot(df_Nile, aes(x='', y= 'Nile')) +
geom_line(col='red') +
xlab('연도') +
ylab('유량')
df_Nile
df_Nile <- rownames(nile)
df_Nile <- rownames('nile')
df_Nile
df_Nile<- data.frame(Nile)
df_Nile
ggplot(df_Nile, aes(x='', y= 'Nile')) +
geom_line(col='red') +
xlab('연도') +
ylab('유량')
df_Nile
df_Nile <- colnames(1:100)
df_Nile
df_Nile<- data.frame(Nile)
df_Nile <- colnames(c(1:100))
df_Nile
df_Nile<- data.frame(Nile)
df_Nile <- cbind(1,2)
df_Nile
df_Nile
df_Nile<- data.frame(Nile)
df_Nile <- data.frame(Nile)
df_Nile <-
df_Nile
df_Nile <-
df_Nile
df_Nile <- data.frame(Nile)
df_Nile <-
df_Nile
df_Nile <- data.frame(Nile)
df_Nile
df_Nile <- 년도도
df_Nile
df_Nile <- 년도도
df_Nile
df_Nile <- 년도도
df_Nile
df_Nile <- data.frame(Nile)
df_Nile <- 년도도
df_Nile
str(Nile)
df_Nile <- rbind('year', c('1871:1970'))
df_Nile
df_Nile <- data.frame(Nile)
df_Nile <- rbind('year')
df_Nile
df_Nile <- as.data.frame(Nile)
df_Nile
year <- 1871:1970
year
df_Nile$year <- year
df_Nile
ggplot(df_Nile, aes(x='year', y= 'Nile')) +
geom_line(col='red') +
xlab('연도') +
ylab('유량')
df_Nile
ggplot(df_Nile, aes(x='year', y= 'x')) +
geom_line(col='red') +
xlab('연도') +
ylab('유량')
ggplot(df_Nile, aes(x='year', y= 'x')) +
geom_line() +
xlab('연도') +
ylab('유량')
ggplot(df_Nile, aes(x='year', y= 'x')) +
geom_line()
df_Nile
ggplot(df_Nile, aes(x=year, y= x)) +
geom_line()
str(Nile)
# Nile 데이터 프레임으로 만들어서 ggplot으로 그래프 그리기(2)
df_Nile <- data.frame(year=time(Nile),
y= as.matrix(Nile))
df_Nile
str(Nile)
# Nile 데이터 프레임으로 만들어서 ggplot으로 그래프 그리기(1)
df_Nile01 <- as.data.frame(Nile)
df_Nile01$year <- year
df_Nile01
ggplot(df_Nile01, aes(x=year, y= x)) +
geom_line()
# Nile 데이터 프레임으로 만들어서 ggplot으로 그래프 그리기(2)
df_Nile02 <- data.frame(year=time(Nile),
y= as.matrix(Nile))
df_Nile02
ggplot(df_Nile02, aes(x=year, y= x)) +
geom_line()
df_Nile02
head(df_Nile02)
ggplot(df_Nile02, aes(x=year, y= y)) +
geom_line()
ggplot(df_Nile01, aes(x=year, y= x)) +
geom_line() +
xlab('연도') +
ylab('유량')
ggplot(df_Nile02, aes(x=year, y= y)) +
geom_line() +
xlab('연도') +
ylab('유량')
ggplot(df_Nile02, aes(x=year, y= y)) +
geom_line() +
ggtitle('Nile강의 연도별 유량 변화') +
xlab('연도') +
ylab('유량')
ggplot(df_Nile02, aes(x=year, y= y)) +
geom_line() +
ggtitle('Nile강의 연도별 유량 변화') +
xlab('연도') +
theme(text = element_text(size=20), axis.text.x = element_text(angle=90, hjust=1)) +
ylab('유량')
ggplot(df_Nile02, aes(x=year, y= y)) +
geom_line() +
ggtitle('Nile강의 연도별 유량 변화') +
xlab('연도') +
theme(text = element_text(size=2), axis.text.x = element_text(angle=90, hjust=1)) +
ylab('유량')
ggplot(df_Nile02, aes(x=year, y= y)) +
geom_line() +
ggtitle('Nile강의 연도별 유량 변화') +
xlab('연도') +
theme(text = element_text(size=5), axis.text.x = element_text(angle=90, hjust=1)) +
ylab('유량')
ggplot(df_Nile02, aes(x=year, y= y)) +
geom_line() +
ggtitle('Nile강의 연도별 유량 변화') +
xlab('연도') +
theme(axis.text.x = element_text(angle=90, hjust=1, size=5)) +
ylab('유량')
## 예제 2-2. 막대그래프와 히스토그램
load('date.rda')
## 예제 2-2. 막대그래프와 히스토그램
load('date.rda')
## 예제 2-2. 막대그래프와 히스토그램
load('data.rda')
tableV5 <- table(data$V5)
tableV5
barplot(tableV5,
main = '출생아(남자)별 빈도', xlab='출생아수', ylab='빈도')
hist(data$V2)
hist(data$V2, main='연령별 분포', xlab='연령', ylab='빈도')
barplot(tableV5,
main = '출생아(남자)별 빈도', xlab='출생아수', ylab='빈도')
hist(data$V2, main='연령별 분포', xlab='연령', ylab='빈도')
hist(data$V2, breaks=c(seq(0,90,10)), right=F,
main='연령별 분포', xlab='연령', ylab='빈도')
hist(data$V2, main='연령별 분포', xlab='연령', ylab='빈도')
hist(data$V2, breaks=c(seq(0,90,10)), right=F,
main='연령별 분포', xlab='연령', ylab='빈도')
tableV5
# 막대그래프
barplot(tableV5,
main = '출생아(남자)별 빈도', xlab='출생아수', ylab='빈도')
class(tableV5)
df_tableV5 <- data.frame(tableV5)
df_tableV5
ggplot(df_tableV5, aes(x= Var1, y= Freq)) +
geom_bar()
ggplot(df_tableV5, aes(x= Var1, y= Freq)) +
geom_bar(stat = 'identity')
# 막대그래프
barplot(tableV5,
main = '출생아(남자)별 빈도', xlab='출생아수', ylab='빈도')
ggplot(df_tableV5, aes(x= Var1, y= Freq)) +
geom_bar(stat = 'identity')
data$V2
# 히스토그램
hist(data$V2, main='연령별 분포', xlab='연령', ylab='빈도')
class(data$V2)
str(data$V2)
df_dataV2 <- data.frame(data$V2)
df_dataV2
str(df_dataV2)
rm(df_dataV2)
hist(data$V2, breaks=c(seq(0,90,10)), right=F,
main='연령별 분포', xlab='연령', ylab='빈도')
# 히스토그램
par(mfrow=c(1,2))
hist(data$V2, main='연령별 분포', xlab='연령', ylab='빈도')
hist(data$V2, breaks=c(seq(0,90,10)), right=F,
main='연령별 분포', xlab='연령', ylab='빈도')
## 예제 2-3. 원 도표
load('data.rda')
table.V4 <- table(data$V4)
table.V4
data$V4
## 예제 2-3. 원 도표
load('data.rda')
table.V4 <- table(data$V4)
table.V4
data$V5
# 막대그래프 (plot)
barplot(tableV5,
main = '출생아(남자)별 빈도', xlab='출생아수', ylab='빈도')
hist(data$V2, main='연령별 분포', xlab='연령', ylab='빈도')
pie(table.V4, main='학력수준별 비중')
table.V4 <- table(data$V4)
table.V4
pie(table.V4, main='학력수준별 비중')
str(data)
data
## 예제 2-3. 원 도표
load('data.rda')
table.V4 <- table(data$V4)
table.V4
str(data)
## 예제 1-4 파일확인 및 파일명 변경
setwd('D:/Heechul/R_Statistics/Lecture/chapter01')
data <- read.csv('data/2010년 인구사항.csv', header=F, na.strings=c('.'))
str(data)
data$V1 <- factor(data$V1, levels=c(1,2),
labels= c('남자', '여자'))
data$V3 <- factor(data$V3, levels=1:14,
labels= c('가구주', '가구주의 배우자', '자녀',
'자녀의 배우자', '가구주의 부모',
'배우자의 부모', '손자녀, 그 배우자',
'증손자녀, 그 배우자', '조부모',
'형제자매, 그 배우자',
'형제자매의 자녀, 그 배우자',
'부모의 형제자매, 그 배우자', '기타 친인척',
'그외같이사는사람'))
data$V4 <- factor(data$V4, levels=1:8,
labels=c('안 받았음', '초등학교', '중학교',
'고등학교', '대학-4년제 미만', '대학-4년제 이상',
'석사과정', '박사과정'))
str(data)
save.image('data.rda')
### section. 01 그래프
## 예제 2-1. 두 변수 간의 관계를 나타내는 산점도
setwd('D:/Heechul/R_Statistics/Lecture/chapter02')
## 예제 2-2. 막대그래프와 히스토그램
load('data.rda')
tableV5 <- table(data$V5)
tableV5
# 막대그래프 (plot)
barplot(tableV5,
main = '출생아(남자)별 빈도', xlab='출생아수', ylab='빈도')
hist(data$V2, main='연령별 분포', xlab='연령', ylab='빈도')
pie(data$V4, main='학력수준별 비중')
tableV1.V4 <- table(data$V1, data$V4)
tableV1.V4
class(tableV1.V4)
barplot(tableV1.V4, legend.text = T, col=c('orange', 'green'),
main='학력에 따른 성별 인원수', xlab='학력',ylab='빈도')
# 히스토그램
par(mfrow=c(1,1))
barplot(tableV1.V4, legend.text = T, col=c('orange', 'green'),
main='학력에 따른 성별 인원수', xlab='학력',ylab='빈도')
table.V4
table.V4 <- table(data$V4)
table.V4
pie(data$V4, main='학력수준별 비중')
pie(table.V4, main='학력수준별 비중')
### section 02. 모수와 통계량
## 예제 2-4. 최댓값과 최솟값
setwd('D:/Heechul/R_Statistics/Lecture/chapter02')
ranicafe <- read.csv('data/cafedata.csv')
head(ranicafe)
## 예제 2-4. 최댓값과 최솟값
ranicafe$Coffees
sort(ranicafe$Coffees)
sort(ranicafe$Coffees)[1]
sort(ranicafe$Coffees, decreasing = T)
sort(ranicafe$Coffees, decreasing = TRUE)
sort(ranicafe$Coffees, decreasing = T)[1]
min(ranicafe$Coffees)
ranicafe <- read.csv('data/cafedata.csv', stringsAsFactors = F)
head(ranicafe)
str(ranicafe)
## 예제 2-4. 최댓값과 최솟값
ranicafe$Coffees <- as.numeric(ranicafe$Coffees)
sort(ranicafe$Coffees)
str(ranicafe)
sort(ranicafe$Coffees)[1]
sort(ranicafe$Coffees, decreasing = TRUE)
sort(ranicafe$Coffees, decreasing = T)[1]
min(ranicafe$Coffees)
max(ranicafe$Coffees)
sort(ranicafe$Coffees)
sort(ranicafe$Coffees)[1]     # 최솟값
min(ranicafe$Coffees)
ranicafe$Coffees
min(ranicafe$Coffees, na.rm = T)
max(ranicafe$Coffees, na.rm = T)
# 최빈값
rc <- ranicafe$Coffees
rc
stem(rc)
# 평균과 중앙값
mean(rc)
# 평균과 중앙값
mean(rc, na.rm = T)
## 예제 2-6. 양 끝 값의 변화에 대한 평균의 변화
rc[rc == max(rc, na.rm = T)] <- 480
mean(rc, na.rm = T)
rc
max(ranicafe$Coffees, na.rm = T)
ranicafe$Coffees
ranicafe$Coffees
rc
# 최빈값
rc <- ranicafe$Coffees
(median.idx<- (length(rc)+1)/2)
(rc.srt <- sort(rc))
rc.srt[median.idx]
median(rc)
median(rc, na.rm = T)
## 예제 2-8. 양 끝 값의 변화에 대한 중앙값의 변화
rc <- ranicafe$Coffees
rc[rc == max(rc)] <- 480
median(rc, na.rm = T)
## 예제 2-9. 개별 관찰값과 평균과의 차이에 대한 평균
height <- c(164, 166, 168, 170, 172, 174, 176)
height.m <- mean(height)
height
height.m
height.dev <- height - height.m
height.dev
sum(height.dev)
## 예제 2-10. 편차 제곡의 평균 구하기
height.dev2 <- height.dev^2
height.dev2
sum(height.dev2)
mean(height.dev2)
variance <- sum(height.dev2/length(height.dev2))
variance
sqrt(mean(height.dev2/length(height.dev2)))
sqrt(sum(height.dev2/length(height.dev2)))
## 예제 2-11. 표준편차 구하기
sqrt <- sqrt(sum(height.dev2/length(height.dev2)))
sqrt
sqrt <- sqrt(variance)
sqrt
## 예제 2-12. 분산과 표준편차 구하기
var(height)
sd(height)
variance
## 예제 2-13. '라니의 카페' 커피 판매량에 대한 평균과 표준편차
rc <- ranicafe$Coffees
rc
rc.m <- mean(rc)
rc.m
rc.m <- mean(rc, na.rm = T)
rc.m
rc.sd <- sd(rc)
rc.sd
rc.sd <- sd(rc, na.rm = T)
rc.sd
cat('커피 판매량', round(rc.m, 1), '+_',round(rc.sd, 2),'잔')
# round(변수값, 1) = 변수값을 소수점 2째 자리에서 반올림
cat('커피 판매량', round(rc.m, 1), '±',round(rc.sd, 2),'잔')
## 2-15. 사분위수 범위와 상자도표
qs <- quantile(rc)
## 2-15. 사분위수 범위와 상자도표
qs <- quantile(rc, na.rm = T)
qs
## 2-15. 사분위수 범위와 상자도표
qs <- quantile(rc)
qs
, na.rm = T
## 2-15. 사분위수 범위와 상자도표
qs <- quantile(rc, na.rm = T)
qs
qs[4]-qs[2]
IQR(rc)
IQR(rc, na.rm = T)
bp <- boxplot(rc, main= '커피 판매량에 대한 상자도표표')
## 2-16. 이상치 판별
boxplot(cars$dist)
Q <- quantile(cars$dist)
Q
ll <- Q[2] - 1.5*IQR(cars$dist)
ll
ul <- Q[4] + 1.5*IQR(cars$dist)
ul
boxplot(cars$dist, main= 'Boxplot of distance')
cars$dist[cars$dist <ll]
cars$dist[cars$dist >ul]
Q
cars$dist
nrow(cars$dist)
Q[2]
Q[4]-q[2]
Q[4]-Q[2]
IQR(cars$dist)
## 예제 2-13. '라니의 카페' 커피 판매량에 대한 평균과 표준편차
rc <- ranicafe$Coffees
rc
# 데이터 분석 프로젝트
# 한국인의 삶을 파악하라!
setwd('D:/Heechul/R_Data_Analysis/Lecture/part2/stage6')
